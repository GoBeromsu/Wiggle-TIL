# Learn SQL

## DDL

* 학번, 성명,학과,학년,학점으로 구성된 학생 테이블을 만들어라.
* 학번과 학년은 숫자형 자료이며, 나머지는 문자형이다.
* 학번은 기본키이다
* 성명 속성은 공백이 없다
* 학과 항목을 이용하여 [수강] 테이블의 학과를 참조하도록 외래키를 지정하며, 참조 테이블에서 삭제가 발생하면 NULL 값으로 하고, 수정이 발생하면 연쇄적으로 수정하도록한다.
* 학년의 속성 값은 4 이하의 값을 갖도록 'hak'이란 제약 조건 명시한다.

```sql
CREATE TABLE 학생
(학번 INT,
학년 INT,
이름 CHAR(5) NOT NULL
학점 CHAR(1),
PRIMARY KEY(학번),
FOREIGN KEY(학과) REFERENCES 수강(학과)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
CONSTRAINT hak CHECK(학년<=4));
```

* [학생] 테이블에 '주소' 속성을 추가하시오.
* 주소 항목은 가변길이 문자형으로 하고 30자까지 입력 될 수 있다.

```SQL
ALTER TABLE 학생 ADD 주소 VARCHAR(30);
```

* [학생] 테이블에서 '학년' 속성을 제거하시오

```SQL
ALTER TABLE 학생 DROP 학년 CASCADE;
```

* 학적 테이블을 삭제하시오

```SQL
DROP TABLE 학적 CASCADE;
```

## DML

* [학생] 테이블에서 모든 학생의 성명을 검색하시오.

```SQL
SELECT 성명 FROM 학생;
```

* [학생] 테이블에서 데이터베이스를 수강하는 학생의 학번과 성명을 검색하시오

```SQL
SELECT 학번,성명 FROM 학생 WHERE 수강과목='데이터베이스';
```

* [학생] 테이블에서 학년이 3학년이고, 수강과목이 '산업공학'인 학생의 성명과 연락처를 검색하시오.

```SQL
SELECT 성명, 연락처 FROM 학생 WHERE 수강과목 ='산업공학' AND 학년 = 3;
```

* [학생] 테이블에서 학년이 '1학년' 이거나 수강과목이 '운영체제'인 학생의 성명을 검색하시오

```SQL
SELECT 성명 FROM 학생 WHERE 학년 =1 OR 수강과목 ='운영체제';
```

* [학생] 테이블에서 학생의 점수가 85 점 이상 90 점 이하인 학생인 연락처를 검색하시오.

```SQL
SELECT 연락처 FROM 학생 WHERE 점수 >= 85 AND 점수 <= 90
```

* [학생] 테이블에서 2학년 이상인 학생의 수강과목을 검색하되, 같은 수강 과목 값은 한번만 검색되도록 하시오.

```SQL
SELECT DISTINCT 수강과목 FROM 학생 WHERE 학년 <=2;
```

* [학생] 테이블에서 1학년 학생의 점수 합계를 구하시오

```SQL
SELECT SUM(점수) FROM 학생 WHERE 학년 = 1;
```

* [학생] 테이블에서 3학년 이상의 학생의 수를 '학생수'라는 속성의 이름으로 구하시오

```sql
SELECT COUNT(*) AS 학생수 FROM 학생 WHERE 학년 >= 3;
```

* [학생] 테이블에서 3학년과 4학년 학생의 학번과 성명을 검색하시오 (복습)

```SQL
SELECT 학번,성명 FROM 학생 WHERE 학년 IN(3,4)
```

* [학생] 테이블에서 점수가 85점 이상인 학생을 학번의 오름차수으로 성명을 검색하시오.

```SQL
SELECT * FROM 학생 WHERE 점수>= 85 ORDER BY 학번 ASC;
```

* [학생] 테이블에서 2명 이상인 학년을 검색하시오.

```SQL
SELECT 학년 FROM 학생 GROUP BY 학년 HAVING COUNT(*) >=2;
```

* [학생] 테이블에서 점수가 85점 이상인 학생이 2명 이상인 학년을 검색하시오

```SQL
SELECT 학년 FROM 학생 WHERE 점수>=85 GROUP BY 학생 HAVING COUNT(*)>=2 ;
```

* [학생 정보] 테이블과 [학과 인원] 테이블을 이용하여 '이영진' 학생이 속한 학과의 학생 수를 검색하시오

```SQL
SELECT 학생수 FROM 학과인원 WHERE (SELECT 학과 FROM 학생정보 WHERE 이름='이영진');
```

* [학생 정보] 테이블과 [학과 인원] 테이블을 이용하여 학생수가 30명 이하인 학과 학생의 이름을 검색하시오

```SQL
SELECT 이름 
FROM 학생정보 
WHERE (SELECT 학과 FROM 학과인원 WHERE 학생수>=30);
```

* [학생] 테이블에서 연락처의 번호가 '7588'로 끝나는 학생의 성명을 검색하시오

```SQL
SELECT 성명 FROM 학생 WHERE 번호='%7588';
```

* [학생] 테이블에서 연락처가 NULL인 학생의 학번을 검색하시오

```SQL
SELECT 학번 FROM 학생 WHERE 연락처 IS NULL;
```

* [학생정보] 테이블과 [학과인원] 테이블에서 학과명이 같은 튜플을 JOIN하여 이름,학과,학생수를 검색하시오.

```SQL
SELECT 이름,학과,학생수 FROM 학생정보 JOIN 학과인원 ON(학생정보.학과=학과인원.학과);
```

* [학생] 테이블에서 학번 95115, 성명 '김정미', 학년4, 수강과목 '데이터베이스', 연락처 '243-0707' 입력

```SQL
INSERT INTO 학생(학번,성명,학년,수강과목,연락처) VALUES (95115,'김정미',4,'데이터베이스','243-0707');
```

* [학생] 테이블에서 '이영진' 학생의 점수를 92점으로 수정하시오

```SQL
UPDATE 학생 SET 점수=92 WHERE 성명='이영진';
```

* [학과] 테이블에서 2학년 학생의 자료를 삭제하시오

```SQL
DELETE FROM 학생 WHERE 학년=2;
```
